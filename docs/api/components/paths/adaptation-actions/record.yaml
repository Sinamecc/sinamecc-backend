patch:
  summary: Change state of an adaptation action
  operationId: update-state-adaptation-action
  description: Change state of an adaptation action
  tags:
    - adaptation-action
  parameters:
    - in: path
      name: id
      description: The id of the adaptation action
      required: true
      schema:
        type: string
        format: uuid
        example: a1b2c3d4-1234-5678-9abc-123456789abc
  requestBody:
      description: The state change of the adaptation action
      required: true
      content:
        application/json:
          schema:
            $ref: "../../schemas/adaptation_actions.yaml#/UpdateStateRecord"

  responses:
    '200':
      description: Adaptation action state updated
      content:
        application/json:
          schema:
            $ref: "../../schemas/adaptation_actions.yaml#/UpdateStateRecord"
  security:
    - JWTAuth: []

get:
  summary: Get the state of an adaptation action
  operationId: get-state-adaptation-action
  description: Get the state of an adaptation action
  tags:
    - adaptation-action
  parameters:
    - in: path
      name: id
      description: The id of the adaptation action
      required: true
      schema:
        type: string
        format: uuid
        example: a1b2c3d4-1234-5678-9abc-123456789abc

  responses:
    '200':
      description: Adaptation action state
      content:
        application/json:
          schema:
            $ref: "../../schemas/adaptation_actions.yaml#/UpdateStateRecord"
  security:
    - JWTAuth: []

put:
  summary: Update an adaptation action
  operationId: update-adaptation-action
  description: Update an adaptation action record
  tags:
    - adaptation-action
  parameters:
    - in: path
      name: id
      description: The id of the adaptation action
      required: true
      schema:
        type: string
        format: uuid
        example: a1b2c3d4-1234-5678-9abc-123456789abc
  requestBody:
    description: The adaptation action record to update
    required: true
    content:
      application/json:
        schema:
          $ref: "../../schemas/adaptation_actions.yaml#/CreateRecord"
        example:
          contact:
            institution: "Environmental Protection Agency"
            full_name: "John Doe"
            job_title: "Climate Change Analyst"
            email: "john.doe@example.com"
            phone: "+1-800-555-1234"
          result:
            - scale:
                - code: "aa"
                  name: "TEST2"
                  category_result: []
                  description: "Description test"
                - code: "aa"
                  name: "TEST9"
                  category_result:
                    - code: "tes"
                      name: "name test"
                  description: "Description test 2"
          category_option:
            - category_section:
                - category: 1
                  description: "Description test"
                - category: 2
                  description: "Descrition test 2"
              other:
                - name: "test"
                  description: "Test large text description"
              impact_type: true
              pertinent: false
              relevant: true
          process:
            characteristic: [1, 12]
            other: "Text example"
            specific_impact:
              - description: "Test description data"
                category_ct: 2
          final_result:
            - scale:
                - code: "aa"
                  name: "TEST2"
                  category_result: []
                  description: "Description test"
                - code: "aa"
                  name: "TEST9"
                  category_result:
                    - code: "tes"
                      name: "name test"
                  description: "Description test 2"

  responses:
    '200':
      description: Adaptation action updated
      content:
        application/json:
          schema:
            $ref: "../../schemas/adaptation_actions.yaml#/CreateRecord"
  security:
    - JWTAuth: []
