attachments:
  post:
    summary: Upload files for a mitigation action
    description: |
        Upload one or more files to be associated with a specific mitigation action. Files can be documents, images, or other supporting materials that provide evidence or additional information for the mitigation action.
        The uploaded files will be stored and linked to the specified mitigation action ID in the system. Note that appropriate file size limits and format restrictions may apply.
    operationId: uploadFiles
    tags:
      - mitigation-action
    parameters:
      - name: id
        in: path
        required: true
        description: The ID of the mitigation action to which the files will be uploaded.
        schema:
          type: string
    requestBody:
      required: true
      content:
        multipart/form-data:
          schema:
            type: object
            properties:
              files:
                type: array
                items:
                  type: string
                  format: binary
                description: The files to upload.
              type:
                type: string
                enum: 
                  - initiative
                  - geographic-location
                  - ghg-information 
                  - impact-documentation
                description: The type of the files being uploaded, which helps categorize the files for the mitigation action.
    responses:
      '200':
        description: Files uploaded successfully.
        content:
          application/json:
            schema:
              type: object
              properties:
                number_of_files:
                  type: integer
                  description: The number of files successfully uploaded.
                  example: 2
                mitigation_action_id:
                  type: string
                  description: The ID of the mitigation action to which the files were uploaded.
                  example: "a1b2c3d4-1234-5678-9abc"
                code:
                  type: integer
                  example: 0
                  description: The response code indicating success.




      '400':
        description: Bad request, possibly due to invalid file format or size.
      '404':
        description: Mitigation action not found.
    security:
      - JWTAuth: []
